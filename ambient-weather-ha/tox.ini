[tox]
envlist = py311, lint, typecheck
skipsdist = True

[testenv]
runner = uv-venv-runner
description = Run tests
setenv =
    HOME_ASSISTANT_URL = http://mock-ha
    HOME_ASSISTANT_TOKEN = mock-token
    AMBIENT_WEATHER_PASSKEY = test_passkey
commands =
    uv run --active pytest {posargs}

[testenv:lint]
description = Run linting
commands =
    uv run --active ruff check .

[testenv:typecheck]
description = Run type checking
commands =
    uv run --active ty check .
